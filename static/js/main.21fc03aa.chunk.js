(this["webpackJsonpreact-jeopardy-2"]=this["webpackJsonpreact-jeopardy-2"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(18),a=n.n(s),i=(n(28),n(9)),o=n(3),l=n(8);function u(e){return function(t){return t.reduce((function(t,n){var c=n[e];return t[c]?Array.isArray(t[c])?t[c]=t[c].concat(n):t[c]=[t[c],n]:t[c]=n,t}),{})}}var j=u("value"),d=u("category");function b(e){var t=function(e){for(var t="{{{comma}}}",n=e.split(/\r\n|\n/).map((function(e){return e.replace(/(".+[,].+")/g,(function(e){return e.replace(/,/g,t)}))})),c=n[0].split(","),r=[],s=1;s<n.length;s++){var a=n[s].split(",");if(a.length===c.length){for(var i={},o=0;o<c.length;o++){var l=a[o].trim();if(Number.isInteger(parseInt(l)))l=parseInt(l);else if(l.replace){var u=new RegExp("".concat(t),"g");l=l.replace(u,",")}i[c[o]]=l}r.push(i)}}return r}(e).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{answered:!1})})),n=d(t);return Object.keys(n).reduce((function(e,t){return e[t]=j(n[t]),e}),{})}function O(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),r=Object(l.a)(n,2),s=r[0],a=r[1];return[s,function(t){try{var n=t instanceof Function?t(s):t;a(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}n(29);var h=n(23),f=n(0),g=["isHeader","question","answer","category","value","answered"],y=function(e){var t=e.isHeader,n=(e.question,e.answer,e.category),c=e.value,r=e.answered,s=Object(h.a)(e,g),a=t?n:r?"":Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"dollar",children:"$"}),c]}),i=t?"category":"score";return Object(f.jsx)("div",Object(o.a)(Object(o.a)({className:i+" blue"},s),{},{children:a}))},m=new Blob(["question,answer,category,value\nquestion1,answer1,category1,200\nquestion2,answer2,category1,400\nquestion3,answer3,category1,600\nquestion4,answer4,category1,800\nquestion5,answer5,category1,1000\nquestion6,answer6,category2,200\nquestion7,answer7,category2,400\nquestion8,answer8,category2,600\nquestion9,answer9,category2,800\nquestion10,answer10,category2,1000\nquestion11,answer11,category3,200\nquestion12,answer12,category3,400\nquestion13,answer13,category3,600\nquestion14,answer14,category3,800\nquestion15,answer15,category3,1000\nquestion16,answer16,category4,200\nquestion17,answer17,category4,400\nquestion18,answer18,category4,600\nquestion19,answer19,category4,800\nquestion20,answer20,category4,1000\nquestion21,answer21,category5,200\nquestion22,answer22,category5,400\nquestion23,answer23,category5,600\nquestion24,answer24,category5,800\nquestion25,answer25,category5,1000\nquestion26,answer21,category6,200\nquestion27,answer22,category6,400\nquestion28,answer23,category6,600\nquestion29,answer24,category6,800\nquestion30,answer25,category6,1000"],{type:"text/plain"}),x=function(e){var t=e.questionMap,n=e.setQuestion,c=Object.keys(t),s=function(e){return Object.keys(e).reduce((function(t,n){var c=Object.keys(e[n]).length||0;return c>t&&(t=c),t}),0)+1}(t);return Object(f.jsx)(f.Fragment,{children:c.length>0?Object(f.jsx)("div",{style:{gridTemplateColumns:"repeat(".concat(c.length,",").concat("1fr",")"),gridTemplateRows:"repeat(".concat(s,", ").concat("1fr",")")},className:"game-board",children:c.map((function(e,c){var s=Object.keys(t[e]);return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(y,{category:e,isHeader:!0,style:{gridArea:"".concat(1," / ",c+1)}}),s.map((function(r,s){var a=t[e][r];return Object(f.jsx)(y,Object(o.a)({style:{gridArea:"".concat(s+1+1," / ").concat(c+1)},onClick:function(){return n(a)}},a),c+"_"+s)}))]},e)}))}):Object(f.jsx)("div",{className:"board empty",children:Object(f.jsxs)("div",{className:"max-width",children:["Import questions from a CSV fie using the button on the left. CSV file must have the following column headers: ",Object(f.jsx)("em",{children:"question"}),", ",Object(f.jsx)("em",{children:"answer"}),", ",Object(f.jsx)("em",{children:"category"}),", ",Object(f.jsx)("em",{children:"value"}),Object(f.jsxs)("p",{children:["Download ",Object(f.jsx)("a",{href:URL.createObjectURL(m),download:"sample_questions.csv",children:"example csv file"})]}),Object(f.jsx)("p",{children:'Be sure to set the clicker key for each player on the left by clicking the "Set" button for each player.'})]})})})},p=n(22),v=function(e){var t=e.question,n=e.goBack,r=e.markAnswered,s=e.users,a=e.clickerKeys,i=Object(c.useState)([]),o=Object(l.a)(i,2),u=o[0],j=o[1],d=Object(c.useState)(!1),b=Object(l.a)(d,2),O=b[0],h=b[1],g=Object(c.useCallback)((function(e){j((function(t){return t.includes(e)?t:[].concat(Object(p.a)(t),[e])}))}),[j]),y=Object(c.useCallback)((function(){j([])}),[j]);return Object(c.useEffect)((function(){function e(e){var t=s.findIndex((function(t){return a[t]===e.key}));-1!==t&&g(s[t])}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[s,a]),Object(f.jsxs)("div",{className:"question blue",children:[Object(f.jsx)("button",{className:"go-back",onClick:function(){n(),y()},children:"Back to Board"}),Object(f.jsxs)("div",{className:"clicker-queue",children:[Object(f.jsx)("strong",{children:"Buzzer Order"}),u.map((function(e,t){return Object(f.jsxs)("div",{children:[t+1,". ",e]},e)}))]}),Object(f.jsx)("div",{style:{position:"absolute",bottom:"1rem",left:"1rem"},children:Object(f.jsx)("button",{onClick:function(){return r(t)},children:"No one got it"})}),Object(f.jsxs)("div",{className:"header",children:[Object(f.jsxs)("div",{className:"score",children:["$",t.value]}),Object(f.jsx)("div",{children:t.category})]}),Object(f.jsx)("div",{className:"text",children:O?t.answer:t.question}),Object(f.jsx)("div",{style:{minHeight:35},children:!O&&u.length>0&&Object(f.jsx)("button",{onClick:function(){return h(!0)},children:"Show Answer"})}),u.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:"Award question to:"}),Object(f.jsx)("div",{children:s.filter((function(e){return u.includes(e)})).map((function(e){return Object(f.jsx)("button",{className:"player-button",onClick:function(){r(t,e),y()},children:e},e)}))})]})]})},w=function(e){var t=e.addUser,n=e.clearUsers,c=e.resetScores,r=e.setQuestions,s=e.users,a=e.clickerKeys,i=e.setClickerKey;return Object(f.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Controls"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{display:"none"},children:Object(f.jsx)("input",{type:"file",id:"fileUpload",onChange:function(e){var t=document.getElementById("fileUpload");if(/^([a-zA-Z0-9\s_\\.\-:])+(.csv|.txt)$/.test(t.value.toLowerCase()))if("undefined"!=typeof FileReader){var n=new FileReader;n.onload=function(e){r(e.target.result)},n.readAsText(t.files[0])}else alert("This browser does not support HTML5.");else alert("Please upload a valid CSV file.")},accept:".csv"})}),Object(f.jsx)("button",{onClick:function(){document.getElementById("fileUpload").click()},children:"Import Questions CSV"}),Object(f.jsx)("button",{onClick:function(){return r("")},children:"Clear Questions"})]})]}),s&&s.length>0&&Object(f.jsxs)("div",{style:{overflow:"auto"},children:["Clicker Keys:",Object(f.jsx)("div",{children:s.map((function(e){var t=" "===a[e]?"Spc":a[e]||"Set";return Object(f.jsxs)("div",{style:{marginTop:10},children:[Object(f.jsx)("button",{style:{display:"inline-block",padding:"6px 0px",width:"2rem",marginRight:"0.5rem"},onClick:function(){var t=window.prompt("Enter a single key to set as the clicker for ".concat(e));t&&t.length>1?alert("Please enter a valid single character for the clicker"):i(e,t)},children:t}),e]},e)}))})]}),Object(f.jsxs)("div",{children:[n&&Object(f.jsx)("button",{onClick:n,children:"Clear Players"}),c&&Object(f.jsx)("button",{onClick:c,children:"Reset Scores"}),t&&Object(f.jsx)("button",{onClick:t,children:"Add Player"})]})]})},k=function(e){var t=e.users,n=e.scores;return t&&t.length?Object(f.jsx)("div",{style:{gridTemplateColumns:"repeat(".concat(t.length,", 1fr)"),gridTemplateRows:"min-content"},className:"game-scores",children:t.map((function(e){return Object(f.jsxs)("div",{className:"blue container",children:[Object(f.jsx)("div",{className:"name",children:e}),Object(f.jsxs)("div",{className:"score center",children:[Object(f.jsx)("span",{className:"dollar",children:"$"}),n[e]]})]},e)}))}):Object(f.jsx)("div",{className:"scores empty",children:Object(f.jsx)("div",{className:"max-width",children:"There are currently no players added"})})},q={},C=[];function N(e){var t=e.questionMap,n=e.markAnswered,r=e.users,s=e.scores,a=e.clickerKeys,i=Object(c.useState)(null),o=Object(l.a)(i,2),u=o[0],j=o[1],d=Object(c.useCallback)((function(){j(null)}),[j]);return u?Object(f.jsx)(v,{question:u,markAnswered:function(e,t){n(e,t),j(null)},goBack:d,users:r,clickerKeys:a}):Object(f.jsx)(x,{questionMap:t,setQuestion:j,scores:s})}var S=function(){var e=O("questionMap",q),t=Object(l.a)(e,2),n=t[0],r=t[1],s=O("users",C),a=Object(l.a)(s,2),u=a[0],j=a[1],d=O("userScores",{}),h=Object(l.a)(d,2),g=h[0],y=h[1],m=O("userClickerKeys",{}),x=Object(l.a)(m,2),p=x[0],v=x[1];Object(c.useEffect)((function(){y((function(e){return u.reduce((function(t,n){return t[n]=e[n]||0,t}),{})})),v((function(e){return u.reduce((function(t,n){return t[n]=e[n]||"",t}),{})}))}),[u]);var S=Object(c.useCallback)((function(e,t){r((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(i.a)({},e.category,Object(o.a)(Object(o.a)({},t[e.category]),{},Object(i.a)({},e.value,Object(o.a)(Object(o.a)({},e.value),{},{answered:!0})))))})),t&&y((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},t,n[t]+e.value))}))}),[r,y]),A=Object(c.useCallback)((function(){var e=window.prompt("Enter player ".concat(u.length+1," name:"));e&&j((function(t){return t.concat(e)}))}),[j,u]),I=Object(c.useCallback)((function(){j([])}),[j]),B=Object(c.useCallback)((function(){y(u.reduce((function(e,t){return e[t]=0,e}),{}))}),[u,y]),E=Object(c.useCallback)((function(e){r(b(e))}),[r]),K=Object(c.useCallback)((function(e,t){e&&v((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},e,t||""))}))}),[v]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"controls",children:Object(f.jsx)(w,{setClickerKey:K,users:u,addUser:A,clearUsers:u.length>0&&I,resetScores:u.length>0&&B,setQuestions:E,clickerKeys:p})}),Object(f.jsxs)("div",{className:"game",children:[Object(f.jsx)(N,{questionMap:n,users:u,scores:g,markAnswered:S,clickerKeys:p}),Object(f.jsx)(k,{users:u,scores:g})]})]})};var A=function(){return Object(f.jsx)("div",{className:"App",children:"clicker"})},I=n(19),B=n(2),E=function(){return Object(f.jsx)(I.a,{children:Object(f.jsxs)(B.c,{children:[Object(f.jsx)(B.a,{exact:!0,path:"/",children:Object(f.jsx)(S,{})}),Object(f.jsx)(B.a,{path:"/clicker",children:Object(f.jsx)(A,{})})]})})};a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.21fc03aa.chunk.js.map