(this["webpackJsonpreact-jeopardy-2"]=this["webpackJsonpreact-jeopardy-2"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(18),a=n.n(s),o=(n(28),n(9)),i=n(3),l=n(8);function u(e){return function(t){return t.reduce((function(t,n){var r=n[e];return t[r]?Array.isArray(t[r])?t[r]=t[r].concat(n):t[r]=[t[r],n]:t[r]=n,t}),{})}}var j=u("value"),d=u("category");function b(e){var t=function(e){for(var t="{{{comma}}}",n=e.split(/\r\n|\n/).map((function(e){return e.replace(/(".+[,].+")/g,(function(e){return e.replace(/,/g,t)}))})),r=n[0].split(","),c=[],s=1;s<n.length;s++){var a=n[s].split(",");if(a.length===r.length){for(var o={},i=0;i<r.length;i++){var l=a[i].trim();if(Number.isInteger(parseInt(l)))l=parseInt(l);else if(l.replace){var u=new RegExp("".concat(t),"g");l=l.replace(u,",")}o[r[i]]=l}c.push(o)}}return c}(e).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{answered:!1})})),n=d(t);return Object.keys(n).reduce((function(e,t){return e[t]=j(n[t]),e}),{})}function O(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.log(r),t}})),c=Object(l.a)(n,2),s=c[0],a=c[1];return[s,function(t){try{var n=t instanceof Function?t(s):t;a(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log(r)}}]}n(29);var h=n(23),f=n(0),y=["isHeader","question","answer","category","value","answered"],g=function(e){var t=e.isHeader,n=(e.question,e.answer,e.category),r=e.value,c=e.answered,s=Object(h.a)(e,y),a=t?n:c?"":Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"dollar",children:"$"}),r]}),o=t?"category":"score";return Object(f.jsx)("div",Object(i.a)(Object(i.a)({className:o+" blue"},s),{},{children:a}))},p=new Blob(["question,answer,category,value\nquestion1,answer1,category1,200\nquestion2,answer2,category1,400\nquestion3,answer3,category1,600\nquestion4,answer4,category1,800\nquestion5,answer5,category1,1000\nquestion6,answer6,category2,200\nquestion7,answer7,category2,400\nquestion8,answer8,category2,600\nquestion9,answer9,category2,800\nquestion10,answer10,category2,1000\nquestion11,answer11,category3,200\nquestion12,answer12,category3,400\nquestion13,answer13,category3,600\nquestion14,answer14,category3,800\nquestion15,answer15,category3,1000\nquestion16,answer16,category4,200\nquestion17,answer17,category4,400\nquestion18,answer18,category4,600\nquestion19,answer19,category4,800\nquestion20,answer20,category4,1000\nquestion21,answer21,category5,200\nquestion22,answer22,category5,400\nquestion23,answer23,category5,600\nquestion24,answer24,category5,800\nquestion25,answer25,category5,1000\nquestion26,answer21,category6,200\nquestion27,answer22,category6,400\nquestion28,answer23,category6,600\nquestion29,answer24,category6,800\nquestion30,answer25,category6,1000"],{type:"text/plain"}),m=function(e){var t=e.questionMap,n=e.setQuestion,r=e.possibleOtherKeys,s=Object.keys(t),a=function(e){return Object.keys(e).reduce((function(t,n){var r=Object.keys(e[n]).length||0;return r>t&&(t=r),t}),0)+1}(t);return Object(f.jsx)(f.Fragment,{children:s.length>0?Object(f.jsx)("div",{style:{gridTemplateColumns:"repeat(".concat(s.length,",").concat("1fr",")"),gridTemplateRows:"repeat(".concat(a,", ").concat("1fr",")")},className:"game-board",children:s.map((function(e,r){var s=Object.keys(t[e]);return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(g,{category:e,isHeader:!0,style:{gridArea:"".concat(1," / ",r+1)}}),s.map((function(c,s){var a=t[e][c];return Object(f.jsx)(g,Object(i.a)({style:{gridArea:"".concat(s+1+1," / ").concat(r+1)},onClick:function(){return n(a)}},a),r+"_"+s)}))]},e)}))}):Object(f.jsx)("div",{className:"board empty",children:Object(f.jsxs)("div",{className:"max-width",children:["Import questions from a CSV fie using the button on the left. CSV file must have the following column headers: ",Object(f.jsx)("em",{children:"question"}),", ",Object(f.jsx)("em",{children:"answer"}),", ",Object(f.jsx)("em",{children:"category"}),", ",Object(f.jsx)("em",{children:"value"}),Object(f.jsxs)("p",{children:["Download ",Object(f.jsx)("a",{href:URL.createObjectURL(p),download:"sample_questions.csv",children:"example csv file"})]}),Object(f.jsx)("p",{children:'Be sure to set the clicker key for each player on the left by clicking the "Set" button for each player.'}),Object(f.jsxs)("p",{children:["The clicker key can be any single character, or one of the following: ",r.join(", "),"."]})]})})})},x=n(22),w=function(e){var t=e.question,n=e.goBack,c=e.markAnswered,s=e.users,a=e.clickerKeys,o=e.possibleOtherKeys,i=Object(r.useState)([]),u=Object(l.a)(i,2),j=u[0],d=u[1],b=Object(r.useState)(!1),O=Object(l.a)(b,2),h=O[0],y=O[1],g=Object(r.useCallback)((function(e){d((function(t){return t.includes(e)?t:[].concat(Object(x.a)(t),[e])}))}),[d]),p=Object(r.useCallback)((function(){d([])}),[d]);return Object(r.useEffect)((function(){function e(e){var t=s.findIndex((function(t){return a[t]===e.key}));-1===t&&o.includes(e.code)&&(t=s.findIndex((function(t){return a[t]===e.code}))),-1!==t&&g(s[t])}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[s,a]),Object(f.jsxs)("div",{className:"question blue",children:[Object(f.jsx)("button",{className:"go-back",onClick:function(){n(),p()},children:"Back to Board"}),Object(f.jsxs)("div",{className:"clicker-queue",children:[Object(f.jsx)("strong",{children:"Buzzer Order"}),j.map((function(e,t){return Object(f.jsxs)("div",{children:[t+1,". ",e]},e)}))]}),Object(f.jsx)("div",{style:{position:"absolute",bottom:"1rem",left:"1rem"},children:Object(f.jsx)("button",{onClick:function(){return c(t)},children:"No one got it"})}),Object(f.jsxs)("div",{className:"header",children:[Object(f.jsxs)("div",{className:"score",children:["$",t.value]}),Object(f.jsx)("div",{children:t.category})]}),Object(f.jsx)("div",{className:"text",children:h?t.answer:t.question}),Object(f.jsx)("div",{style:{minHeight:35},children:!h&&j.length>0&&Object(f.jsx)("button",{onClick:function(){return y(!0)},children:"Show Answer"})}),j.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:"Award question to:"}),Object(f.jsx)("div",{children:s.filter((function(e){return j.includes(e)})).map((function(e){return Object(f.jsx)("button",{className:"player-button",onClick:function(){c(t,e),p()},children:e},e)}))})]})]})},v=function(e){var t=e.addUser,n=e.clearUsers,r=e.resetScores,c=e.setQuestions,s=e.users,a=e.clickerKeys,o=e.setClickerKey,i=e.possibleOtherKeys;return Object(f.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Controls"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{display:"none"},children:Object(f.jsx)("input",{type:"file",id:"fileUpload",onChange:function(e){var t=document.getElementById("fileUpload");if(/^([a-zA-Z0-9\s_\\.\-:])+(.csv|.txt)$/.test(t.value.toLowerCase()))if("undefined"!=typeof FileReader){var n=new FileReader;n.onload=function(e){c(e.target.result)},n.readAsText(t.files[0])}else alert("This browser does not support HTML5.");else alert("Please upload a valid CSV file.")},accept:".csv"})}),Object(f.jsx)("button",{onClick:function(){document.getElementById("fileUpload").click()},children:"Import Questions CSV"}),Object(f.jsx)("button",{onClick:function(){return c("")},children:"Clear Questions"})]}),Object(f.jsx)("div",{})]}),s&&s.length>0&&Object(f.jsxs)("div",{style:{overflow:"auto"},children:["Clicker Keys:",Object(f.jsx)("div",{children:s.map((function(e){var t,n=(t=a[e]).length<=1?t:t.split("").filter((function(e){return e.toLowerCase()!==e})).join(""),r=" "===a[e]?"Spc":n||"Set";return Object(f.jsxs)("div",{style:{marginTop:10},children:[Object(f.jsx)("button",{style:{display:"inline-block",padding:"6px 0px",width:"2rem",marginRight:"0.5rem"},onClick:function(){var t=window.prompt("Enter a single key to set as the clicker for ".concat(e));t&&1===t.length||i.includes(t)?o(e,t):alert("Please enter a valid key for the clicker. Either a single character or one of the following: "+i.join(", ")+".")},children:r}),e]},e)}))})]}),Object(f.jsxs)("div",{children:[n&&Object(f.jsx)("button",{onClick:n,children:"Clear Players"}),r&&Object(f.jsx)("button",{onClick:r,children:"Reset Scores"}),t&&Object(f.jsx)("button",{onClick:t,children:"Add Player"})]})]})},k=function(e){var t=e.users,n=e.scores;return t&&t.length?Object(f.jsx)("div",{style:{gridTemplateColumns:"repeat(".concat(t.length,", 1fr)"),gridTemplateRows:"min-content"},className:"game-scores",children:t.map((function(e){return Object(f.jsxs)("div",{className:"blue container",children:[Object(f.jsx)("div",{className:"name",children:e}),Object(f.jsxs)("div",{className:"score center",children:[Object(f.jsx)("span",{className:"dollar",children:"$"}),n[e]]})]},e)}))}):Object(f.jsx)("div",{className:"scores empty",children:Object(f.jsx)("div",{className:"max-width",children:"There are currently no players added"})})},q={},C=[],N=["ControlLeft","ControlRight","ArrowLeft","ArrowRight","ArrowDown","ArrowUp","AltLeft","AltRight","ShiftLeft","ShiftRight","Enter"];function S(e){var t=e.questionMap,n=e.markAnswered,c=e.users,s=e.scores,a=e.clickerKeys,o=e.possibleOtherKeys,i=Object(r.useState)(null),u=Object(l.a)(i,2),j=u[0],d=u[1],b=Object(r.useCallback)((function(){d(null)}),[d]);return j?Object(f.jsx)(w,{question:j,markAnswered:function(e,t){n(e,t),d(null)},goBack:b,users:c,clickerKeys:a,possibleOtherKeys:o}):Object(f.jsx)(m,{possibleOtherKeys:o,questionMap:t,setQuestion:d,scores:s})}var A=function(){var e=O("questionMap",q),t=Object(l.a)(e,2),n=t[0],c=t[1],s=O("users",C),a=Object(l.a)(s,2),u=a[0],j=a[1],d=O("userScores",{}),h=Object(l.a)(d,2),y=h[0],g=h[1],p=O("userClickerKeys",{}),m=Object(l.a)(p,2),x=m[0],w=m[1];Object(r.useEffect)((function(){g((function(e){return u.reduce((function(t,n){return t[n]=e[n]||0,t}),{})})),w((function(e){return u.reduce((function(t,n){return t[n]=e[n]||"",t}),{})}))}),[u]);var A=Object(r.useCallback)((function(e,t){c((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(o.a)({},e.category,Object(i.a)(Object(i.a)({},t[e.category]),{},Object(o.a)({},e.value,Object(i.a)(Object(i.a)({},e.value),{},{answered:!0})))))})),t&&g((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(o.a)({},t,n[t]+e.value))}))}),[c,g]),K=Object(r.useCallback)((function(){var e=window.prompt("Enter player ".concat(u.length+1," name:"));e&&j((function(t){return t.concat(e)}))}),[j,u]),R=Object(r.useCallback)((function(){j([])}),[j]),E=Object(r.useCallback)((function(){g(u.reduce((function(e,t){return e[t]=0,e}),{}))}),[u,g]),I=Object(r.useCallback)((function(e){c(b(e))}),[c]),L=Object(r.useCallback)((function(e,t){e&&w((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(o.a)({},e,t||""))}))}),[w]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"controls",children:Object(f.jsx)(v,{possibleOtherKeys:N,setClickerKey:L,users:u,addUser:K,clearUsers:u.length>0&&R,resetScores:u.length>0&&E,setQuestions:I,clickerKeys:x})}),Object(f.jsxs)("div",{className:"game",children:[Object(f.jsx)(S,{possibleOtherKeys:N,questionMap:n,users:u,scores:y,markAnswered:A,clickerKeys:x}),Object(f.jsx)(k,{users:u,scores:y})]})]})},K=n(19),R=n(2),E=function(){return Object(f.jsx)(K.a,{basename:"/react-jeopardy-2",children:Object(f.jsx)(R.c,{children:Object(f.jsx)(R.a,{exact:!0,path:"/",children:Object(f.jsx)(A,{})})})})};a.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.bd36ca33.chunk.js.map